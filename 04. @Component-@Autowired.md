# ğŸŒ± `@Component` vÃ  `@Autowired` trong Spring Boot

## **ğŸ’¡ 1. Annotation: `@Component`**

- LÃ  má»™t annotation Ä‘Ã¡nh dáº¥u trÃªn cÃ¡c Class Ä‘á»ƒ cho biáº¿t chÃºng lÃ  cÃ¡c bean Ä‘Æ°á»£c quáº£n lÃ½ bá»Ÿi Spring Boot

- Spring Boot sáº½ táº¡o vÃ  quáº£n lÃ½ cÃ¡c instance cá»§a cÃ¡c Class Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u lÃ  `@Component`

- GiÃºp cho láº­p trÃ¬nh viÃªn khÃ´ng cáº§n pháº£i táº¡o 1 Ä‘á»‘i tÆ°á»£ng má»›i (new) mÃ  chá»‰ cáº§n láº¥y ra tá»« IoC Container

**`Engine.java`**

```java
public interface Engine{
    void start();
}
```

**`PetroEngine.java`**

```java
@Component
public class PetroEngine implements Engine{

    @Override
    public void start(){
        System.out.println("Petrol Engine is starting...");
    }
}
```

**`Car.java`**

```java
public class Car{
    private Engine engine;

    public void drive(){
        engine.start();
        System.out.println("Car is moving...");
    }
}
```

**`Main.java`**

```java
@SpringBootApplication
public class StoreApplication{
	public static void main(String[] args){
		ApplicationText context = SpringApplication.run(StoreApplication.class, args);

        // KhÃ´ng cáº§n new Ä‘á»‘i tÆ°á»£ng má»›i mÃ  chá»‰ cáº§n láº¥y trong container
		Car car = context.getBean(Car.class);
        car.drive();
	}
}

```

- **ApplicationContext**

  - Quáº£n lÃ½ táº¥t cáº£ cÃ¡c Ä‘á»‘i tÆ°á»£ng trong Spring Container.

  - Táº¡o 1 Ä‘á»‘i tÆ°á»£ng báº±ng cÃ¡ch láº¥y trá»±c tiáº¿p tá»« container (khÃ´ng cáº§n pháº£i new 1 Ä‘á»‘i tÆ°á»£ng má»›i).

  - DÃ¹ng **`getBean()`** Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ láº¥y má»™t Bean tá»« IoC Container (Láº¥y theo kiá»ƒu dá»¯ liá»‡u).

- **IoC Container**

  - ChÃºng ta cÃ³ thá»ƒ hiá»ƒu Ä‘Ã¢y lÃ  1 _`"thÃ¹ng"`_ chá»©a táº¥t cáº£ cÃ¡c bean, thay vÃ¬ chÃºng ta quáº£n lÃ½ nÃ³ thÃ¬ bÃ¢y giá» Spring Boot sáº½ lÃ m viá»‡c Ä‘Ã³ thay cho chÃºng ta

  - NÃªn khi muá»‘n sá»­ dá»¥ng thÃ¬ chÃºng ta khÃ´ng cáº§n pháº£i new 1 Ä‘á»‘i tÆ°á»£ng má»›i mÃ  chá»‰ cáº§n dÃ¹ng **`getBean()`** Ä‘á»ƒ láº¥y Class mÃ  chÃºng ta cáº§n.

## **ğŸŒ¿ 2. Annotation: `@Autowired`**

- DÃ¹ng Ä‘á»ƒ tá»± Ä‘á»™ng tiÃªm cÃ¡c dependency vÃ o bean mÃ  khÃ´ng cáº§n khá»Ÿi táº¡o thá»§ cÃ´ng.

- Annotation nÃ y giÃºp Spring quáº£n lÃ½ vÃ²ng Ä‘á»i cá»§a cÃ¡c bean vÃ  giáº£m bá»›t viá»‡c cáº¥u hÃ¬nh báº±ng tay.

- `@Autowired` trong Spring cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ tiÃªm phá»¥ thuá»™c vÃ o nhiá»u vá»‹ trÃ­ khÃ¡c nhau, bao gá»“m `Constructor`, `Setter`

**ğŸ¥‚ a. Constructor Injection**

ğŸ”¹ Náº¿u chá»‰ cÃ³ má»™t constructor, cÃ³ thá»ƒ bá» `@Autowired`, Spring váº«n tá»± Ä‘á»™ng tiÃªm.

ğŸ”¹ ÄÃ¢y lÃ  cÃ¡ch Æ°u tiÃªn vÃ¬ giÃºp Ä‘áº£m báº£o engine khÃ´ng bá»‹ thay Ä‘á»•i sau khi Ä‘á»‘i tÆ°á»£ng Car Ä‘Æ°á»£c táº¡o.

**`Car.java`**

```java
@Component
public class Car {
    private Engine engine;

    // TiÃªm trá»±c tiáº¿p vÃ o Constructor khi táº¡o má»›i Ä‘á»‘i tÆ°á»£ng
    @Autowired
    public Car(Engine engine){
        this.engine = engine;
    }

    public void drive(){
        engine.start();
        System.out.println("Car is moving...");
    }
}
```

**`Main.java`**

```java
@SpringBootApplication
public class StoreApplication {
	public static void main(String[] args) {
		ApplicationContext context = SpringApplication.run(StoreApplication.class, args);
		Car car = context.getBean(Car.class);
		car.drive();
	}
}
```

**ğŸ£ b. Setter Injection**

ğŸ”¹ Spring sáº½ gá»i setEngine() vÃ  tiÃªm Engine sau khi táº¡o Ä‘á»‘i tÆ°á»£ng Car.

ğŸ”¹ CÃ³ thá»ƒ thay Ä‘á»•i giÃ¡ trá»‹ engine sau nÃ y, khÃ¡c vá»›i Constructor Injection.

**`Car.java`**

```java
@Component
public class Car {
    private Engine engine;

    // TiÃªm trá»±c tiáº¿p vÃ o setter, Spring sáº½ gá»i setEngine() tá»± Ä‘á»™ng
    @Autowired
    public void setEngine(Engine engine){
        this.engine = engine;
    }

    public void drive(){
        engine.start();
        System.out.println("Car is moving...");
    }
}
```

**`Main.java`**

```java
@SpringBootApplication
public class StoreApplication {
	public static void main(String[] args) {
		ApplicationContext context = SpringApplication.run(StoreApplication.class, args);
		Car car = context.getBean(Car.class);
		car.drive();
	}
}
```

## **ğŸŒŸ 3. Káº¿t luáº­n**

ğŸ¥Ÿ 1. `@Component` giÃºp Spring tá»± Ä‘á»™ng quáº£n lÃ½ Bean

- `@Component` Ä‘Ã¡nh dáº¥u má»™t class lÃ  Spring Bean, giÃºp Spring táº¡o vÃ  quáº£n lÃ½ Ä‘á»‘i tÆ°á»£ng nÃ y.

- CÃ¡c `Bean` Ä‘Æ°á»£c táº¡o sáº½ náº±m trong `Application Context`, giÃºp chÃºng cÃ³ thá»ƒ Ä‘Æ°á»£c tiÃªm vÃ o cÃ¡c class khÃ¡c.

ğŸ 2. `@Autowired` giÃºp tiÃªm phá»¥ thuá»™c tá»± Ä‘á»™ng

- `@Autowired` giÃºp Spring tá»± Ä‘á»™ng tÃ¬m vÃ  tiÃªm `Bean` phÃ¹ há»£p vÃ o class mÃ  khÃ´ng cáº§n new thá»§ cÃ´ng.

- `@Autowired` cÃ³ thá»ƒ dÃ¹ng trong `Constructor`, `Setter` tÃ¹y chá»‰nh.
