# ğŸŒ± Annotation **`@ConfigurationProperties`**

## âœ… 1. `@ConfigurationProperties` lÃ  gÃ¬?

- `@ConfigurationProperties` lÃ  má»™t annotation dÃ¹ng Ä‘á»ƒ **tá»± Ä‘á»™ng Ã¡nh xáº¡ (bind) cÃ¡c giÃ¡ trá»‹ trong file cáº¥u hÃ¬nh** (`application.properties` hoáº·c `application.yml`) **vÃ o má»™t class Java**.

> ÄÃ¢y lÃ  cÃ¡ch **chuyÃªn nghiá»‡p** vÃ  **má»Ÿ rá»™ng tá»‘t** hÆ¡n ráº¥t nhiá»u so vá»›i `@Value`.

---

## ğŸ“˜ CÃº phÃ¡p

```java
@ConfigurationProperties(prefix = "my.config")
```

Náº¿u file cáº¥u hÃ¬nh cÃ³:

```properties
my.config.url=http://example.com
my.config.timeout=5000
```

Táº¡o class Ä‘á»ƒ Ã¡nh xáº¡:

```java
@Component
@ConfigurationProperties(prefix = "my.config")
public class MyConfig {

    private String url;
    private int timeout;

    // Getters & Setters báº¯t buá»™c!
}
```

---

## âœ… 2. á»¨ng dá»¥ng cá»§a `@ConfigurationProperties`

| TrÆ°á»ng há»£p                       | DÃ¹ng                        |
| -------------------------------- | --------------------------- |
| CÃ³ nhiá»u cáº¥u hÃ¬nh cÃ¹ng prefix    | âœ… Ráº¥t nÃªn dÃ¹ng             |
| Muá»‘n quáº£n lÃ½ cáº¥u hÃ¬nh dá»… báº£o trÃ¬ | âœ… Tá»‘t hÆ¡n `@Value`         |
| Muá»‘n validation trÃªn config      | âœ… CÃ³ thá»ƒ thÃªm `@Validated` |
| Chá»‰ cáº§n inject 1 giÃ¡ trá»‹         | âŒ `@Value` tiá»‡n hÆ¡n        |

---

## ğŸ’¡ 3. So sÃ¡nh `@Value` vs `@ConfigurationProperties`

|                                              | `@Value`       | `@ConfigurationProperties` |
| -------------------------------------------- | -------------- | -------------------------- |
| CÃº phÃ¡p Ä‘Æ¡n giáº£n                             | âœ…             | âŒ (cáº§n class)             |
| Gá»n khi chá»‰ láº¥y 1 giÃ¡ trá»‹                    | âœ…             | âŒ                         |
| Quáº£n lÃ½ cáº¥u hÃ¬nh lá»›n                         | âŒ             | âœ…                         |
| Há»— trá»£ cáº¥u trÃºc phá»©c táº¡p (List, Map, Object) | âš ï¸ Ráº¥t háº¡n cháº¿ | âœ…                         |
| Dá»… test / mock                               | âŒ KhÃ³ test    | âœ… Inject nhÆ° bean thÆ°á»ng  |

---

## ğŸ§ª VÃ­ dá»¥ thá»±c táº¿ (file `.properties`)

```properties
app.name=SpringMall
app.version=1.0.0
app.author=anhhuy
```

```java
@Component
@ConfigurationProperties(prefix = "app")
public class AppProperties {
    private String name;
    private String version;
    private String author;
    // Getter/Setter
}
```

Sau Ä‘Ã³ inject vÃ  dÃ¹ng:

```java
@Component
public class AppStartupLogger {
    private final AppProperties app;

    public AppStartupLogger(AppProperties app) {
        this.app = app;
    }

    @PostConstruct
    public void print() {
        System.out.println("ğŸ”§ App: " + app.getName() + " v" + app.getVersion());
    }
}
```

---

## âœ… 4. TÃ³m táº¯t

| Thuá»™c tÃ­nh                            | Ã nghÄ©a                     |
| ------------------------------------- | --------------------------- |
| `prefix`                              | TÃªn gá»‘c Ä‘á»ƒ map trong config |
| `@Component`                          | ÄÄƒng kÃ½ class lÃ m bean      |
| `@Validated`                          | Káº¿t há»£p validation config   |
| DÃ¹ng Ä‘Æ°á»£c vá»›i `.properties` vÃ  `.yml` | Ráº¥t linh hoáº¡t               |
