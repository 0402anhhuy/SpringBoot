# üå± Annotation **`@Repository`** v√† **`@Service`**

- L√† hai annotation quan tr·ªçng ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ƒë√°nh d·∫•u c√°c l·ªõp trong ·ª©ng d·ª•ng nh·∫±m ph√¢n bi·ªát vai tr√≤ c·ªßa ch√∫ng trong ki·∫øn tr√∫c ph√¢n l·ªõp.

## **üìå 1. `@Repository`**
- **`@Repository`** ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ƒë√°nh d·∫•u c√°c l·ªõp ch·ªãu tr√°ch nhi·ªám truy xu·∫•t d·ªØ li·ªáu t·ª´ c∆° s·ªü d·ªØ li·ªáu (`DAO - Data Access Object`).

- Spring s·ª≠ d·ª•ng annotation n√†y ƒë·ªÉ x·ª≠ l√Ω c√°c ngo·∫°i l·ªá li√™n quan ƒë·∫øn c∆° s·ªü d·ªØ li·ªáu, c·ª• th·ªÉ l√† t·ª± ƒë·ªông chuy·ªÉn ƒë·ªïi `SQLException` th√†nh `DataAccessException`.

- Th∆∞·ªùng ƒë∆∞·ª£c s·ª≠ d·ª•ng trong c√°c l·ªõp t∆∞∆°ng t√°c v·ªõi `JPA`, `Hibernate`, ho·∫∑c `JDBC`.

- V√≠ d·ª•:

```java
@Repository
public class UserRepository{
    @Autowired
    private EntityManager entityManager;

    public User findById(Long id){
        return entityManager.find(User.class, id);
    }
}
```

## **üí° 2. `@Service`**
- ƒê∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ƒë√°nh d·∫•u c√°c l·ªõp x·ª≠ l√Ω logic nghi·ªáp v·ª• (`business logic`) c·ªßa ·ª©ng d·ª•ng.

- C√°c ph∆∞∆°ng th·ª©c trong l·ªõp **`@Service`** th∆∞·ªùng g·ªçi ƒë·∫øn **`@Repository`** ƒë·ªÉ l·∫•y d·ªØ li·ªáu v√† th·ª±c hi·ªán x·ª≠ l√Ω tr∆∞·ªõc khi tr·∫£ v·ªÅ k·∫øt qu·∫£.

- Gi√∫p t·ªï ch·ª©c m√£ ngu·ªìn r√µ r√†ng h∆°n theo m√¥ h√¨nh ph√¢n l·ªõp.

- V√≠ d·ª•:
```java
@Service
public class UserService{
    @Autowired
    private UserRepository userRepository;

    public User getUserById(Long id){
        return userRepository.findById(id);
    }
}
```

## **üåü 3. T·ªïng k·∫øt**

| Annotation   | Vai tr√≤                                               |
|-------------|--------------------------------------------------------|
| `@Repository` | Truy xu·∫•t v√† thao t√°c d·ªØ li·ªáu t·ª´ c∆° s·ªü d·ªØ li·ªáu       |
| `@Service`   | X·ª≠ l√Ω logic nghi·ªáp v·ª• v√† ƒëi·ªÅu ph·ªëi d·ªØ li·ªáu           |

Trong m·ªôt ·ª©ng d·ª•ng Spring, `@Repository` th∆∞·ªùng ƒë∆∞·ª£c s·ª≠ d·ª•ng trong t·∫ßng d·ªØ li·ªáu (DAO),  
c√≤n `@Service` d√πng ƒë·ªÉ tri·ªÉn khai c√°c logic nghi·ªáp v·ª• trong t·∫ßng d·ªãch v·ª•.
