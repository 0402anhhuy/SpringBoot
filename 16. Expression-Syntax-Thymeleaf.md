# ğŸŒ± Thymeleaf - Expression Syntax

# ğŸ“˜ **Biá»ƒu thá»©c Thymeleaf** (Expression Syntax)

- Thymeleaf há»— trá»£ **6 loáº¡i biá»ƒu thá»©c chÃ­nh** (gá»i lÃ  _Standard Expressions_):

| Biá»ƒu thá»©c | CÃº phÃ¡p  | CÃ´ng dá»¥ng chÃ­nh                       |
| --------- | -------- | ------------------------------------- |
| Variable  | `${...}` | Láº¥y biáº¿n tá»« model                     |
| Selection | `*{...}` | DÃ¹ng trong `th:object` (form binding) |
| Message   | `#{...}` | Láº¥y text tá»« `messages.properties`     |
| Link URL  | `@{...}` | Táº¡o URL Ä‘á»™ng cho form, link,...       |
| Literal   | `'...'`  | Chuá»—i, sá»‘, boolean cá»‘ Ä‘á»‹nh            |
| Fragment  | `~{...}` | Gá»i layout, fragment (giá»‘ng include)  |

---

## ğŸ¥‘ **Variable Expression** â€“ `${...}`

> Láº¥y biáº¿n tá»« controller `model.addAttribute(...)`

- CÃº phÃ¡p

```java
model.addAttribute(String attributeName, Object attributeValue);
```

- TrÃªn Controller Ä‘Æ°a vÃ o giÃ¡ trá»‹

```java
model.addAttribute("user", "Huy");
```

- Láº¥y giÃ¡ trá»‹ cá»§a biáº¿n name trong HTML

```html
<p th:text="${user}"></p>
```

- Äoáº¡n expression nÃ y tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i

```java
ctx.getVariable("user");
```

## ğŸŸ **Selection Expression** â€“ `*{...}`

> DÃ¹ng trong form gáº¯n

- Dáº¥u **\*** cÃ²n gá»i lÃ  asterisk syntax

- Chá»©c nÄƒng cá»§a nÃ³ giá»‘ng vá»›i **`${...}`** lÃ  láº¥y giÃ¡ trá»‹ cá»§a má»™t biáº¿n

- Äiá»ƒm khÃ¡c biá»‡t lÃ  nÃ³ sáº½ láº¥y ra giÃ¡ trá»‹ cá»§a má»™t biáº¿n cho trÆ°á»›c bá»Ÿi **`th:object`**

```html
<form th:object="${user}">
  <input th:field="*{username}" />
</form>
```

---

## ğŸ¥“ **Message Expression** â€“ `#{...}`

> Truy cáº­p vÃ o text message trong `messages.properties` Ä‘á»ƒ Ä‘a ngÃ´n ngá»¯

```properties
app.title=ChÃ o má»«ng Ä‘áº¿n vá»›i SpringMall!
```

```html
<h1 th:text="#{app.title}"></h1>
```

## ğŸŒ­ **Link URL Expression** â€“ `@{...}`

> Táº¡o URL Ä‘á»™ng trong form, link, img, script,...

```html
<a th:href="@{/products}">Xem sáº£n pháº©m</a>

<form th:action="@{/register}" method="post"></form>
```

> CÃ³ thá»ƒ chÃ¨n tham sá»‘:

```html
<a th:href="@{/product/{id}(id=${product.id})}">Chi tiáº¿t</a>
```

## ğŸ‰ **Literal Expression** â€“ `'...'`, `|...|`

> Biá»ƒu thá»©c giÃ¡ trá»‹ cá»‘ Ä‘á»‹nh: String, Number, Boolean...

```html
<p th:text="'Xin chÃ o' + ' Huy'"></p>
<!-- Chuá»—i -->
<p th:text="42"></p>
<!-- Sá»‘ -->
<p th:if="true"></p>
<!-- Boolean -->
```

> ğŸ“Œ `|...|` dÃ¹ng Ä‘á»ƒ dá»… viáº¿t chuá»—i cÃ³ biáº¿n:

```html
<p th:text="|Xin chÃ o ${name}|"></p>
```

## ğŸ¥ **Fragment Expression** â€“ `~{...}`

> DÃ¹ng Ä‘á»ƒ gá»i layout, import file HTML nhá» vÃ o trang chÃ­nh

```html
<div th:replace="~{fragments/header :: header}"></div>
```

- `fragments/header` lÃ  file `header.html` trong `templates/fragments/`
- `:: header` lÃ  tÃªn fragment trong file Ä‘Ã³

---

## ğŸ’¡ **Biá»ƒu thá»©c nÃ¢ng cao** trong Thymeleaf

| CÃº phÃ¡p                          | Ã nghÄ©a                  |
| -------------------------------- | ------------------------ |
| `==`, `!=`, `<`, `>`, `<=`, `>=` | So sÃ¡nh                  |
| `!`, `not`, `and`, `or`          | Logic                    |
| `?:`                             | Ternary (if else inline) |
| `isEmpty`, `isNull`, `size`      | Kiá»ƒm tra collection      |

### ğŸ” VÃ­ dá»¥:

```html
<p th:if="${name == 'Huy'}">Xin chÃ o Huy</p>
<p th:text="${list.size()}"></p>
<p th:text="${age > 18 ? 'TrÆ°á»Ÿng thÃ nh' : 'Tráº» em'}"></p>
```
