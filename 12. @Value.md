# ğŸŒ± Annotation **`@Value`**

## ğŸ£ 1. `@Value` lÃ  gÃ¬?

- CÃº phÃ¡p:

```java
@Value("${ten.property}")
```

â¡ï¸ DÃ¹ng Ä‘á»ƒ **inject giÃ¡ trá»‹ tá»« file cáº¥u hÃ¬nh** (`application.properties` hoáº·c `application.yml`) vÃ o field, constructor, hoáº·c method.

---

## ğŸ§ª VÃ­ dá»¥ cÆ¡ báº£n:

### ğŸ“ `application.properties`

```properties
app.title=SpringMall siÃªu cáº¥p
app.version=1.0.0
```

### ğŸ“¦ Java Code:

```java
@Component
public class AppInfo {

    @Value("${app.title}")
    private String title;

    @Value("${app.version}")
    private String version;

    @PostConstruct
    public void print() {
        System.out.println("ğŸ·ï¸ App: " + title + " - v" + version);
    }
}
```

---

## ğŸ§‡ 2. á»¨ng dá»¥ng cá»§a `@Value`

| TrÆ°á»ng há»£p     | VÃ­ dá»¥                                         |
| -------------- | --------------------------------------------- |
| Inject String  | `@Value("${app.name}")`                       |
| Inject sá»‘      | `@Value("${app.port}")` (int, long, float...) |
| Inject boolean | `@Value("${feature.enabled}")`                |
| Default value  | `@Value("${app.name:Spring Default}")`        |
| Inject list    | `@Value("#{'${admin.emails}'.split(',')}")`   |

---

## ğŸ”§ 3. CÃ³ thá»ƒ dÃ¹ng vá»›i constructor

```java
@Component
public class ServiceA {
    private final String name;

    public ServiceA(@Value("${app.name}") String name) {
        this.name = name;
    }
}
```

---

## ğŸ¥— 4. LÆ°u Ã½

| Äiá»u cáº§n nhá»›                                                   | MÃ´ táº£                             |
| -------------------------------------------------------------- | --------------------------------- |
| `@Value` hoáº¡t Ä‘á»™ng sau khi `ApplicationContext` Ä‘Æ°á»£c khá»Ÿi táº¡o  | âš ï¸ KhÃ´ng dÃ¹ng Ä‘Æ°á»£c trong `static` |
| Tá»± Ä‘á»™ng convert sang kiá»ƒu dá»¯ liá»‡u phÃ¹ há»£p                      | int, boolean,... Ä‘á»u ok           |
| Náº¿u biáº¿n khÃ´ng cÃ³ trong `properties` vÃ  khÃ´ng cÃ³ default â†’ lá»—i | NÃªn dÃ¹ng `:defaultValue`          |

---

## ğŸ” So sÃ¡nh vá»›i `@ConfigurationProperties`

| `@Value`                 | `@ConfigurationProperties`  |
| ------------------------ | --------------------------- |
| Inject tá»«ng biáº¿n         | Inject nguyÃªn class (bulk)  |
| DÃ¹ng cho vÃ i giÃ¡ trá»‹ nhá» | DÃ¹ng cho group cáº¥u hÃ¬nh lá»›n |
| Ngáº¯n gá»n                 | Máº¡nh máº½, dá»… test            |

---

### ğŸ“Œ VÃ­ dá»¥ cáº¥u hÃ¬nh list vá»›i `@Value`:

```properties
admin.emails=admin1@example.com,admin2@example.com
```

```java
@Value("#{'${admin.emails}'.split(',')}")
private List<String> adminEmails;
```
