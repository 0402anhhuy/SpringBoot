# ğŸŒ± Thymeleaf

## âœ… 1. Thymeleaf lÃ  gÃ¬?

- **Thymeleaf** lÃ  má»™t **Java template engine** dÃ¹ng Ä‘á»ƒ káº¿t há»£p **HTML + dá»¯ liá»‡u tá»« Java backend**.

---

## âœ… 2. CÃCH Cáº¤U HÃŒNH

### ğŸ“¦ ThÃªm dependency trong `pom.xml`

```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-thymeleaf</artifactId>
</dependency>
```

---

## âœ… 3. THÆ¯ Má»¤C CHá»¨A FILE VIEW

| Loáº¡i file             | Äáº·t á»Ÿ Ä‘Ã¢u                          |
| --------------------- | ---------------------------------- |
| `.html` view          | `src/main/resources/templates/` âœ… |
| `.css`, `.js`, `.img` | `src/main/resources/static/` âœ…    |

---

## âœ… 4. CONTROLLER Gá»¬I Dá»® LIá»†U CHO VIEW

```java
@Controller
public class HomeController {

    @GetMapping("/")
    public String home(Model model) {
        model.addAttribute("name", "SpringMall");
        return "index"; // â†’ tráº£ vá» templates/index.html
    }
}
```

---

## âœ… 5. CÃC THáºº & THUá»˜C TÃNH CÆ  Báº¢N Cá»¦A THYMELEAF

| Thuá»™c tÃ­nh           | TÃ¡c dá»¥ng                | VÃ­ dá»¥                                                     |
| -------------------- | ----------------------- | --------------------------------------------------------- |
| `th:text`            | Hiá»ƒn thá»‹ ná»™i dung       | `<p th:text="${name}"></p>`                               |
| `th:href`            | GÃ¡n link Ä‘á»™ng           | `<a th:href="@{/about}">About</a>`                        |
| `th:src`             | Link áº£nh Ä‘á»™ng           | `<img th:src="@{/img/logo.png}">`                         |
| `th:if`, `th:unless` | Ráº½ nhÃ¡nh hiá»ƒn thá»‹       | `<p th:if="${isAdmin}">Admin</p>`                         |
| `th:each`            | Láº·p danh sÃ¡ch           | `<li th:each="p : ${products}" th:text="${p.name}"></li>` |
| `th:value`           | GÃ¡n value input         | `<input th:value="${username}"/>`                         |
| `th:object` + `*{}`  | Binding form vá»›i object | `<form th:object="${user}"> <input th:field="*{email}"/>` |

---

## âœ… 6. BIá»‚U THá»¨C THYMELEAF

| Biá»ƒu thá»©c            | CÃº phÃ¡p               | Ã nghÄ©a                               |     |                      |
| -------------------- | --------------------- | ------------------------------------- | --- | -------------------- |
| **Variable**         | `${name}`             | Láº¥y biáº¿n tá»« model                     |     |                      |
| **Selection**        | `*{field}`            | DÃ¹ng vá»›i `th:object` trong form       |     |                      |
| **Message (i18n)**   | `#{app.title}`        | Láº¥y chuá»—i tá»« `messages.properties`    |     |                      |
| **URL Link**         | `@{/path}`            | Táº¡o URL Ä‘á»™ng                          |     |                      |
| **Literal / Format** | \`                    | Hello \${name}                        | \`  | Dá»… dÃ ng format chuá»—i |
| **Fragment**         | `~{layout :: header}` | Import file HTML khÃ¡c (giá»‘ng include) |     |                      |

---

## âœ… 7. DÃ™NG FORM Vá»šI THYMELEAF

```java
model.addAttribute("user", new User());
```

```html
<form th:action="@{/register}" th:object="${user}" method="post">
  <input type="text" th:field="*{username}" />
  <input type="password" th:field="*{password}" />
  <button type="submit">ÄÄƒng kÃ½</button>
</form>
```

---

## âœ… 8. ÄIá»€U KIá»†N, Láº¶P, TOÃN Tá»¬

```html
<!-- Äiá»u kiá»‡n -->
<p th:if="${age >= 18}">TrÆ°á»Ÿng thÃ nh</p>
<p th:unless="${isAdmin}">Báº¡n khÃ´ng pháº£i admin</p>

<!-- Láº·p -->
<ul>
  <li th:each="product : ${products}" th:text="${product.name}"></li>
</ul>

<!-- Ternary -->
<p th:text="${gender == 'M' ? 'Nam' : 'Ná»¯'}"></p>
```

---

## âœ… 9. LAYOUT Vá»šI THYMELEAF â€“ DÃ™NG `fragment`

### ğŸ“ `layout.html` â€“ file gá»‘c

```html
<html>
  <body>
    <div th:fragment="header">ÄÃ¢y lÃ  header</div>
    <div th:fragment="footer">ÄÃ¢y lÃ  footer</div>
  </body>
</html>
```

### ğŸ“„ `home.html` â€“ sá»­ dá»¥ng:

```html
<html>
  <body>
    <div th:replace="~{layout :: header}"></div>
    <h1>Trang chá»§</h1>
    <div th:replace="~{layout :: footer}"></div>
  </body>
</html>
```

---

## âœ… 10. TÆ¯Æ NG TÃC ÄA NGÃ”N NGá»® (i18n)

### ğŸ“ `messages.properties`

```properties
greeting=ChÃ o báº¡n
```

### ğŸ“ `messages_en.properties`

```properties
greeting=Hello there
```

### ğŸ“„ HTML

```html
<p th:text="#{greeting}"></p>
```

â¡ï¸ Sáº½ tá»± Ä‘á»•i theo locale ngÆ°á»i dÃ¹ng (náº¿u cáº¥u hÃ¬nh `LocaleResolver`)

---

## âœ… 11. Dá»® LIá»†U Tá»ª CONTROLLER

| Tá»« Java                   | Sang View                      |
| ------------------------- | ------------------------------ |
| `String name = "Huy"`     | `${name}`                      |
| `User user`               | `${user.username}`, `*{email}` |
| `List<Product> products`  | `th:each="p : ${products}"`    |
| `Map<String, Object> map` | `${map.key}`                   |

---

## âœ… 12. Lá»–I THÆ¯á»œNG Gáº¶P

| Lá»—i                   | NguyÃªn nhÃ¢n                         |
| --------------------- | ----------------------------------- |
| `Template not found`  | File khÃ´ng náº±m Ä‘Ãºng `templates/`    |
| Biáº¿n `${...}` bá»‹ null | KhÃ´ng gÃ¡n tá»« `model.addAttribute()` |
| Form khÃ´ng bind Ä‘Æ°á»£c  | Thiáº¿u `th:object`, hoáº·c `*{}` sai   |
| URL `@{}` bá»‹ sai      | Thiáº¿u `{}` hoáº·c tham sá»‘ URL         |

---

## âœ… Káº¾T LUáº¬N

| Äáº·c Ä‘iá»ƒm                                    | Lá»£i Ã­ch                     |
| ------------------------------------------- | --------------------------- |
| ÄÆ°á»£c tÃ­ch há»£p sáºµn trong Spring Boot         | KhÃ´ng cáº§n cáº¥u hÃ¬nh phá»©c táº¡p |
| Giao diá»‡n HTML dá»… viáº¿t                      | KhÃ´ng bá»‹ phÃ¡ layout         |
| TÆ°Æ¡ng thÃ­ch vá»›i Form, i18n, layout          | âœ”ï¸                          |
| Há»c má»™t láº§n, dÃ¹ng cáº£ Ä‘á»i vá»›i Spring Web MVC | ğŸ”¥                          |

---

Báº¡n muá»‘n mÃ¬nh **dá»±ng má»™t mini project Spring Boot dÃ¹ng Thymeleaf** bao gá»“m:

- Trang chá»§
- Trang form login
- Trang danh sÃ¡ch sáº£n pháº©m
- CÃ³ layout vÃ  fragment

ğŸ‘‰ Cá»© nÃ³i "Dá»±ng Thymeleaf demo", mÃ¬nh táº¡o luÃ´n Ä‘á»§ controller, HTML, DTO, style... cháº¡y Ä‘Æ°á»£c ngay nhÃ© ğŸ”§ğŸ¤–
